{"version":3,"sources":["redux/actions/books.js","redux/actions/form.js","components/consts.js","components/SearchForm.js","components/Header.js","components/Card.js","components/CardsContainer.js","components/Main.js","components/BookInfo.js","components/App.js","redux/actions/card.js","redux/reducers/books.js","redux/reducers/form.js","redux/reducers/card.js","redux/reducers/rootReducer.js","redux/store.js","index.js"],"names":["booksFetchDataFail","err","type","toggleIsFetching","isFetching","formChangeBookSearchValue","bookSearchValue","formChangeBookCategoryValue","bookCategoryValue","formChangeBookSortingValue","bookSortingValue","categoryOptionsList","value","orderOptionsList","SearchForm","handleChangeBookName","e","props","bookSearchValueChange","target","handleChangeBookCategory","bookCategoryValueChange","handleChangeBookSorting","bookSortingValueChange","className","noValidate","onSubmit","this","name","placeholder","onChange","map","option","Component","connect","state","form","dispatch","data","Header","handleFormSubmit","Card","handleClick","onCardClick","book","id","etag","onMouseUp","alt","src","volumeInfo","imageLinks","thumbnail","categories","title","authors","reduce","str","autor","CardsContainer","console","log","books","Main","isSearched","totalItems","index","onLoadMoreBtnClick","BookInfo","onClose","category","disabled","description","App","fetchBooks","fetchData","search","order","loadMore","incrementedIndex","incrementIndex","submitSearchForm","preventDefault","reset","history","push","clearRequest","handleCardClick","card","setCardData","currentBookId","handleClose","req","replace","trim","isFetch","exact","path","isSearch","fetchErrMessage","length","to","totalBooks","message","val","url","fetch","then","res","ok","Promise","reject","json","items","booksFetchDataSuccess","totalBooksItems","totalBooksFetchDataSuccess","catch","booksFetchData","withRouter","BOOKS_FETCH_DATA_SUCCESS","TOTAL_BOOKS_FETCH_DATA_SUCCESS","TOGGLE_IS_FETCHING","CHANGE_IS_SEARCHED","NEXT_PAGE","RESET","BOOKS_FETCH_DATA_FAIL","initialState","FORM_CHANGE_BOOK_SEARCH_VALUE","FORM_CHANGE_BOOK_CATEGORY_VALUE","FORM_CHANGE_BOOK_SORTING_VALUE","SELECTED_CARD","rootReducer","combineReducers","action","concat","store","createStore","composeWithDevTools","applyMiddleware","thunk","createBrowserHistory","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.04ecffff.chunk.js","sourcesContent":["export function booksFetchDataSuccess(books){\r\n    return {\r\n        type: \"BOOKS_FETCH_DATA_SUCCESS\",\r\n        books: books.items\r\n    }\r\n}\r\nexport function totalBooksFetchDataSuccess(books){\r\n\r\n    return {\r\n        type: \"TOTAL_BOOKS_FETCH_DATA_SUCCESS\",\r\n        totalBooksItems: books.totalItems\r\n    }\r\n}\r\nexport function booksFetchDataFail(err){\r\n\r\n    return {\r\n        type: \"BOOKS_FETCH_DATA_FAIL\",\r\n        err\r\n    }\r\n}\r\nexport function changeIsSearched (val){\r\n    return{\r\n        type: \"CHANGE_IS_SEARCHED\",\r\n        val\r\n    }\r\n}\r\nexport function toggleIsFetching (isFetching) {\r\n    return{\r\n        type: \"TOGGLE_IS_FETCHING\",\r\n        isFetching\r\n    }\r\n\r\n}\r\nexport function incrementPageIndex(){\r\n\r\n    return {\r\n        type: \"NEXT_PAGE\",\r\n    }\r\n}\r\nexport function resetState(){\r\n\r\n    return {\r\n        type: \"RESET\",\r\n    }\r\n}\r\n\r\n\r\nexport function booksFetchData(url){\r\n    return (dispatch)=>{\r\n        fetch(url)\r\n        .then(res => res.ok ? res : Promise.reject(res))\r\n        .then(res=>res.json())\r\n        .then(books => {\r\n            dispatch(booksFetchDataSuccess(books))\r\n            dispatch(totalBooksFetchDataSuccess(books)) \r\n            dispatch(booksFetchDataFail(''))   \r\n        })\r\n        .then(()=>dispatch(toggleIsFetching(false)))\r\n        .catch((err) => {\r\n            console.log(err)\r\n            dispatch(booksFetchDataFail(err))\r\n            dispatch(toggleIsFetching(false))\r\n        })\r\n    }\r\n\r\n}\r\n","export function formChangeBookSearchValue (bookSearchValue){\r\n    return{\r\n        type: \"FORM_CHANGE_BOOK_SEARCH_VALUE\",\r\n        bookSearchValue\r\n    }\r\n}\r\n\r\nexport function formChangeBookCategoryValue (bookCategoryValue){\r\n    return{\r\n        type: \"FORM_CHANGE_BOOK_CATEGORY_VALUE\",\r\n        bookCategoryValue\r\n    }\r\n}\r\n\r\nexport function formChangeBookSortingValue (bookSortingValue){\r\n    return{\r\n        type: \"FORM_CHANGE_BOOK_SORTING_VALUE\",\r\n        bookSortingValue\r\n    }\r\n}","\r\n\r\nexport const categoryOptionsList = [\r\n    {\r\n        value: 'all',\r\n    },\r\n    {\r\n        value: 'art',\r\n    },\r\n    {\r\n        value: 'biography',\r\n    },\r\n    {\r\n        value: 'computers',\r\n    },\r\n    {\r\n        value: 'history',\r\n    },\r\n    {\r\n        value: 'medical',\r\n    },\r\n    {\r\n        value: 'poetry',\r\n    },\r\n];\r\n\r\nexport const orderOptionsList = [\r\n    {\r\n        value: 'relevance',\r\n    },\r\n    {\r\n        value: 'newest',\r\n    },\r\n];\r\n\r\n\r\n","import React, {Component} from 'react';\r\nimport {connect} from 'react-redux'\r\nimport {categoryOptionsList, orderOptionsList} from './consts';\r\nimport {formChangeBookSearchValue, formChangeBookCategoryValue, formChangeBookSortingValue} from  '../redux/actions/form';\r\n\r\nclass SearchForm extends Component{\r\n\r\n    handleChangeBookName = (e) => {\r\n        this.props.bookSearchValueChange(e.target.value);\r\n    }\r\n    handleChangeBookCategory = (e) => {\r\n        this.props.bookCategoryValueChange(e.target.value);\r\n    }\r\n    handleChangeBookSorting = (e) => {\r\n        this.props.bookSortingValueChange(e.target.value);\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <form className=\"header__form\" noValidate onSubmit={this.props.onSubmit} >\r\n                <input className=\"header__input\" type=\"text\" name=\"bookName\" placeholder=\"Enter the book title\"\r\n                    value={this.props.bookSearchValue} \r\n                    onChange={this.handleChangeBookName}/>\r\n\r\n                <br/>\r\n\r\n                <label className=\"header__select-label\">Categories</label>\r\n                <select className=\"header__select\" name=\"bookCategory\"\r\n                    value={this.props.bookCategoryValue} \r\n                    onChange={this.handleChangeBookCategory}>\r\n                    {categoryOptionsList.map(option => (\r\n                        <option value={option.value} key={option.value}>{option.value}</option>\r\n                    ))}\r\n                </select>\r\n\r\n                <label className=\"header__select-label\">Sorting by</label>\r\n                <select className=\"header__select\" name=\"bookSorting\" \r\n                    value={this.props.bookSortingValue} \r\n                    onChange={this.handleChangeBookSorting}>\r\n                    {orderOptionsList.map(option => (\r\n                        <option value={option.value} key={option.value}>{option.value}</option>\r\n                    ))}\r\n                </select>\r\n                <button className=\"btn header__input-btn\" type=\"submit\" name=\"submit\">&#128269;</button>\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {  \r\n    return {\r\n        bookSearchValue: state.form.bookSearchValue,\r\n        bookCategoryValue: state.form.bookCategoryValue,\r\n        bookSortingValue: state.form.bookSortingValue,\r\n    };\r\n};\r\n    \r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        bookSearchValueChange: data => dispatch(formChangeBookSearchValue(data)),\r\n        bookCategoryValueChange: data => dispatch(formChangeBookCategoryValue(data)),\r\n        bookSortingValueChange: data => dispatch(formChangeBookSortingValue(data)),\r\n    };\r\n};\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(SearchForm)\r\n\r\n","import React, {Component} from 'react';\r\nimport SearchForm from './SearchForm';\r\n\r\nclass Header extends Component{\r\n\r\n    render(){\r\n        return (\r\n            <header className=\"header root__section\">\r\n                <h1 className=\"header__title\">Search for books</h1>\r\n                <SearchForm onSubmit={this.props.handleFormSubmit}/>\r\n            </header> \r\n        );\r\n    }\r\n}\r\n\r\nexport default Header","import React, {Component} from 'react';\r\n\r\nclass Card extends Component{\r\n\r\n    handleClick = () => {\r\n        this.props.onCardClick(this.props.book);\r\n    }\r\n\r\n    render(){       \r\n        return (\r\n            <div className=\"book-card\" id={this.props.book.etag} onMouseUp={this.handleClick}>\r\n            <img className=\"book-card__image\" alt=\"book cover\" src={\r\n                this.props.book.volumeInfo &&\r\n                this.props.book.volumeInfo.imageLinks  ? \r\n                this.props.book.volumeInfo.imageLinks.thumbnail  : \r\n                'https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/495px-No-Image-Placeholder.svg.png'} \r\n                />\r\n                <div className=\"book-card__details\">\r\n                    <p className=\"category book-card__category\">{\r\n                        this.props.book.volumeInfo.categories ? \r\n                        this.props.book.volumeInfo.categories[0]: \r\n                        ''\r\n                    }\r\n                    </p>\r\n                    <h3 className=\"book-card__name\">{this.props.book.volumeInfo.title}</h3>\r\n                    <p className=\"book-card__author\">{\r\n                        this.props.book.volumeInfo.authors ? \r\n                        this.props.book.volumeInfo.authors.reduce((str, autor)=> str+', '+autor) : \r\n                        ''\r\n                    }\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default Card;","import React, {Component} from 'react';\r\nimport Card from './Card';\r\n\r\nclass CardsContainer extends Component {\r\n\r\n    render(){\r\nconsole.log(this.props.books)\r\n        return(\r\n            <div className=\"main__cards-container\">\r\n                <div id=\"booksList\" className=\"books-list root__section\">\r\n                    { this.props.books[0] && this.props.books.map((book) => {\r\n                        return  <Card \r\n                            book={book} \r\n                            key={book.etag} \r\n                            onCardClick={this.props.onCardClick} /> \r\n                    })}\r\n                </div>\r\n            </div> \r\n        )\r\n        \r\n    }\r\n}\r\n\r\nexport default CardsContainer","import React, {Component} from 'react';\r\nimport CardsContainer from './CardsContainer';\r\n\r\nclass Main extends Component {\r\n\r\n    render(){\r\n        return(\r\n            <>\r\n                <h3 className=\"main__message\">{           \r\n                    !this.props.isSearched ?\r\n                    'The books found will be displayed here' :\r\n                    this.props.err ?\r\n                    this.props.err :\r\n                    !this.props.totalItems ? \r\n                    'No results found' :\r\n                    this.props.totalItems === -1 ?\r\n                    '':\r\n                    `Found ${this.props.totalItems} results` \r\n                }</h3>\r\n                \r\n                <CardsContainer {...this.props}/>  \r\n                \r\n                {this.props.totalItems > 30 && this.props.totalItems > this.props.index ?  \r\n                <button onMouseUp={this.props.onLoadMoreBtnClick} className=\"btn main__btn\">Load more</button> : \r\n                ''\r\n                }\r\n            </>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Main","import React, {Component} from 'react';\r\n\r\nclass BookInfo extends Component{\r\n\r\n    render(){       \r\n        return (\r\n            <div className=\"book-info\">\r\n                <div className=\"close\" onMouseUp={this.props.onClose}>&#10006;</div>\r\n                <div className=\"book-info__img-container\">\r\n                    <img className=\"book-info__img\" src={\r\n                    this.props.book.volumeInfo &&\r\n                    this.props.book.volumeInfo.imageLinks  ? \r\n                    this.props.book.volumeInfo.imageLinks.thumbnail  : \r\n                    'https://upload.wikimedia.org/wikipedia/commons/thumb/6/65/No-Image-Placeholder.svg/495px-No-Image-Placeholder.svg.png'} alt=\"book cover\"/>\r\n                </div>\r\n                <div className=\"book-info__details\">\r\n                    <p className=\"category book-card__category\">{\r\n                        this.props.book.volumeInfo.categories ? \r\n                        this.props.book.volumeInfo.categories.reduce((str, category)=> str+', '+category): \r\n                        ''\r\n                    }/General\r\n                    </p>\r\n                    <h3 className=\"book-card__name\">{\r\n                        this.props.book.volumeInfo.title}\r\n                    </h3>\r\n                    <p className=\"book-card__author\">{\r\n                        this.props.book.volumeInfo.authors ? \r\n                        this.props.book.volumeInfo.authors.reduce((str, autor)=> str+', '+autor) : \r\n                        ''\r\n                    }\r\n                    </p>\r\n                    <textarea className=\"book-card__description\" disabled\r\n                        value={this.props.book.volumeInfo.description ? \r\n                        this.props.book.volumeInfo.description : \r\n                        'No description available'\r\n                        } \r\n                    />\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default BookInfo;","import React, {Component} from 'react';\nimport {connect} from 'react-redux'\nimport {\n  Route,\n  Switch,\n  Redirect,\n  withRouter\n} from \"react-router-dom\"\n\nimport {\n  booksFetchData, \n  toggleIsFetching, \n  changeIsSearched, \n  incrementPageIndex, \n  resetState\n} from  '../redux/actions/books'\nimport {\n  formChangeBookSearchValue, \n  formChangeBookCategoryValue, \n  formChangeBookSortingValue\n} from  '../redux/actions/form';\nimport {setCardData} from  '../redux/actions/card';\n\nimport Header from './Header';\nimport Main from './Main';\nimport BookInfo from './BookInfo';\n\n\nclass App extends Component {\n\n  clearRequest(req){\n    return (req.replace(/[<>\\/#$%\\^\\*;{}=\\_`~+&]/g,\" \")).trim();\n  }\n\n  fetchBooks = (data) => {\n    this.props.fetchData(`https://www.googleapis.com/books/v1/volumes?q=\"${data.search}\"+subject=\"${data.category}\"&orderBy=${data.order}&maxResults=30&startIndex=${data.index}`)\n  }\n\n  loadMore = () =>{\n    this.props.isFetching(true)\n    this.fetchBooks({\n      search: this.props.bookSearchValue, \n      category: this.props.bookCategoryValue, \n      order: this.props.bookSortingValue, \n      index: this.props.incrementedIndex});\n    this.props.incrementIndex()\n  }\n\n  submitSearchForm = (e) =>{\n    e.preventDefault()\n    //сброс состояния для полной перезаписи массива книг\n    this.props.reset()\n    \n    this.props.history.push('/')\n    this.props.isSearched(true)\n    this.props.isFetching(true)\n    this.fetchBooks({\n      search: this.clearRequest(this.props.bookSearchValue), \n      category: this.props.bookCategoryValue, \n      order: this.props.bookSortingValue, \n      index: 0});\n    this.props.incrementIndex()\n  }\n\n  handleCardClick = (card) => {\n    this.props.setCardData(card);\n    this.currentBookId = card.etag\n    this.props.history.push(\"/book/:\" + this.currentBookId)\n    }\n  handleClose = () => {\n    this.props.history.push('/')\n  }\n\n  render(){\n    const { history } = this.props\n\n    return (\n      <div className=\"App\">\n        {this.props.isFetch ? \n        // Loader\n          <div className=\"loader-container\">\n            <div className=\"loader\">Loading...</div>\n          </div> : \n          ''\n        }\n        <Header handleFormSubmit={this.submitSearchForm} />\n        <Switch>\n\n          <Route history={history} exact path=\"/\">\n            <Main               \n              isSearched={this.props.isSearch} \n              isFetching={this.props.isFetch} \n              err={this.props.fetchErrMessage}\n              totalItems={this.props.totalItems} \n              books={this.props.books} \n              index={this.props.incrementedIndex} \n              onLoadMoreBtnClick={this.loadMore} \n              onCardClick={this.handleCardClick}/> \n          </Route>\n\n          <Route history={history} exact path={\"/book/:\" + this.currentBookId}>\n            {this.props.card.card.length !== 0 ? \n              <BookInfo book={this.props.card.card} onClose={this.handleClose}/> :\n              <Redirect to=\"/\" />\n            }\n          </Route>\n\n          <Route history={history} path=\"*\">\n            <Redirect to=\"/\" />\n          </Route>\n\n        </Switch>\n      </div>\n\n    )\n  }\n}\n\nconst mapStateToProps = state => {  \nconsole.log(state)\nconsole.log(\"state\")\n  return {\n    isSearch: state.books.isSearched,\n    isFetch: state.books.isFetching,\n    totalItems: state.books.totalBooks,\n    books: state.books.books,\n    incrementedIndex: state.books.index,\n    reset: state.books.reset,\n    fetchErrMessage: state.books.err.message,\n\n    bookSearchValue: state.form.bookSearchValue,\n    bookCategoryValue: state.form.bookCategoryValue,\n    bookSortingValue: state.form.bookSortingValue,\n\n    card: state.card,\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    isSearched: isSearched => dispatch(changeIsSearched(isSearched)),\n    fetchData: url => dispatch(booksFetchData(url)),\n    isFetching: isFetching => dispatch(toggleIsFetching(isFetching)),\n    incrementIndex: () => dispatch(incrementPageIndex()),\n    reset: () => dispatch(resetState()),\n\n    bookSearchValueChange: data => dispatch(formChangeBookSearchValue(data)),\n    bookCategoryValueChange: data => dispatch(formChangeBookCategoryValue(data)),\n    bookSortingValueChange: data => dispatch(formChangeBookSortingValue(data)),\n\n    setCardData: card => dispatch(setCardData(card)),\n  };\n};\n\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(App));\n","export function setCardData (card){\r\n    return{\r\n        type: \"SELECTED_CARD\",\r\n        card\r\n    }\r\n}","const BOOKS_FETCH_DATA_SUCCESS = \"BOOKS_FETCH_DATA_SUCCESS\";\r\nconst TOTAL_BOOKS_FETCH_DATA_SUCCESS = \"TOTAL_BOOKS_FETCH_DATA_SUCCESS\";\r\nconst TOGGLE_IS_FETCHING = \"TOGGLE_IS_FETCHING\";\r\nconst CHANGE_IS_SEARCHED = \"CHANGE_IS_SEARCHED\";\r\nconst NEXT_PAGE = \"NEXT_PAGE\";\r\nconst RESET = \"RESET\";\r\nconst BOOKS_FETCH_DATA_FAIL = \"BOOKS_FETCH_DATA_FAIL\"\r\n\r\nlet initialState = {\r\n    books: [],\r\n    index: 0,\r\n    totalBooks: -1,\r\n    isFetching: false,\r\n    isSearched: false,\r\n    err: ''\r\n}\r\n\r\nexport function books(state = initialState, action){\r\n    switch(action.type){\r\n        case TOTAL_BOOKS_FETCH_DATA_SUCCESS:\r\n            return {...state, totalBooks: action.totalBooksItems};\r\n        case BOOKS_FETCH_DATA_SUCCESS:\r\n            return {...state, books: [...state.books.concat(action.books)]}; \r\n        case BOOKS_FETCH_DATA_FAIL:\r\n            return {...state, err: action.err};            \r\n        case TOGGLE_IS_FETCHING:\r\n            return {...state, isFetching: action.isFetching};\r\n        case CHANGE_IS_SEARCHED: \r\n            return {...state, isSearched: action.val};\r\n        case NEXT_PAGE: \r\n            return {...state, index: state.index+=30};\r\n        case RESET: \r\n            return initialState\r\n            default:\r\n                return state;\r\n    }\r\n    \r\n}\r\n\r\n","const FORM_CHANGE_BOOK_SEARCH_VALUE = \"FORM_CHANGE_BOOK_SEARCH_VALUE\";\r\nconst FORM_CHANGE_BOOK_CATEGORY_VALUE = \"FORM_CHANGE_BOOK_CATEGORY_VALUE\";\r\nconst FORM_CHANGE_BOOK_SORTING_VALUE = \"FORM_CHANGE_BOOK_SORTING_VALUE\";\r\n\r\nlet initialState = {\r\n    bookSearchValue: \"\",\r\n    bookCategoryValue: \"all\",\r\n    bookSortingValue: \"relevance\",\r\n}\r\n\r\n\r\nexport function form(state = initialState, action){\r\n    switch(action.type){\r\n        case FORM_CHANGE_BOOK_SEARCH_VALUE:\r\n            return {...state, bookSearchValue:action.bookSearchValue};\r\n        case FORM_CHANGE_BOOK_CATEGORY_VALUE:\r\n            return {...state, bookCategoryValue:action.bookCategoryValue};\r\n        case FORM_CHANGE_BOOK_SORTING_VALUE:\r\n            return {...state, bookSortingValue:action.bookSortingValue};\r\n\r\n            default:\r\n                return state;\r\n    }\r\n    \r\n}\r\n\r\n","const SELECTED_CARD = \"SELECTED_CARD\";\r\n\r\n\r\nlet initialState = {\r\n    card: []\r\n}\r\n\r\n\r\nexport function card(state = initialState, action){\r\n    switch(action.type){\r\n        case SELECTED_CARD:\r\n            return {...state, card:action.card};\r\n\r\n            default:\r\n                return state;\r\n    }\r\n    \r\n}\r\n","import { combineReducers } from \"redux\";\r\nimport { books } from \"./books\";\r\nimport { form } from \"./form\";\r\nimport { card } from \"./card\";\r\n\r\nconst rootReducer = combineReducers({\r\n    books,\r\n    form,\r\n    card\r\n})\r\nexport default rootReducer;","import {createStore, applyMiddleware} from \"redux\";\r\nimport rootReducer from \"./reducers/rootReducer\";\r\nimport thunk from \"redux-thunk\"\r\nimport {composeWithDevTools} from 'redux-devtools-extension';\r\n\r\nexport const store = createStore(\r\n    rootReducer,\r\n    composeWithDevTools(applyMiddleware(thunk))\r\n    \r\n  );","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { Router } from \"react-router-dom\"\nimport {createBrowserHistory} from 'history'\n\nimport './index.css';\n\nimport App from './components/App';\nimport { Provider } from 'react-redux';\nimport {store} from './redux/store'\n\n\nconst history = createBrowserHistory()\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <Router history={history}>\n        <App />\n      </Router>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}